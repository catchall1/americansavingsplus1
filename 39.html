<body>
  <div id="ip-info">
    Your IP address: 
    <span id="ip"></span>
  </div>
  <div id="location-info">
    Your location: 
    <span id="location"></span>
  </div>
  <script>
    function getIP() {
      fetch('https://api.ipify.org?format=json')
        .then(response => response.json())
        .then(data => {
        const ipElement = document.getElementById('ip');
        ipElement.textContent = data.ip;
        getLocation(data.ip);
      });
    }
    function getLocation(ip) {
      fetch('http://api.ipstack.com/' + ip + '?access_key=5ef82448b3c68cb05987ad2f3a71c21b&fields=region_code')
        .then(response => response.json())
        .then(data => {
        // Access the region values from the data object
        const location = data.region_code;
        const locationElement = document.getElementById('location');
        locationElement.textContent = location;
      })
        .catch(error => {
        console.error(error);
      });
    }
    window.onload = function() {
      getIP();
    }
  </script>
</body>
